<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <script src="./svgcraft.js"></script>
    <script>
      function setup_tile(tile, i, j, rng) {
          // do nothing (but keep function because it's a callback)
      }
      window.onload = () => {
          init(setup_tile);
      }
    </script>
    <link rel="stylesheet" href="./svgcraft.css"/>
  </head>

  <body>
    <div id="mapport">
      <!-- width and height are ignored because overflow:visible -->
      <svg id="mainsvg" width="42" height="42"
           style="transform: translate(210px, 180px) scale(0.4);">

        <defs>
          <pattern id="SquareWaveCobble" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="20" height="20" fill="#dddddd"/>
            <path d="M 10 0 l -2 5 l 4 10 l -2 5 M 0 10 l 5 2 l 10 -4 l 5 2"
                  stroke="#999999" stroke-width="1"
                  stroke-linejoin="round" stroke-linecap="round" fill="transparent"/>
          </pattern>

          <pattern id="Lawn1" x="0" y="0" width="5" height="5" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="5" height="5" fill="#56b000"/>
            <circle cx="-2" cy="0" r="5" stroke-width="1" stroke="#63c900" fill="none"/>
          </pattern>

          <pattern id="Pond" x="0" y="0" width="80" height="40" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="80" height="40" fill="#4dc3ff"/>
            <path d="M 3 9 c 6 -6, 11 -6, 17 0 s 11 6, 17 0"
                  stroke-width="4" stroke="#b3e6ff" stroke-linecap="round" fill="transparent"/>
            <path d="M 43 29 c 6 -6, 11 -6, 17 0 s 11 6, 17 0"
                  stroke-width="4" stroke="#b3e6ff" stroke-linecap="round" fill="transparent"/>
          </pattern>
        </defs>

        <g id="TileTemplates">
          <g data-freq="8">
            <rect x="0" y="-200" width="200" height="2700" fill="url(#SquareWaveCobble)"/>
            <rect x="0" y="2300" width="5200" height="200" fill="url(#SquareWaveCobble)"/>
          </g>
          <g data-freq="2">
            <rect x="0" y="-200" width="200" height="2700" fill="url(#SquareWaveCobble)"/>
          </g>
          <g data-freq="2">
            <rect x="0" y="2300" width="5200" height="200" fill="url(#SquareWaveCobble)"/>
          </g>
          <g data-freq="1">
          </g>
        </g>

        <!-- width and height determine tile size.
             When user zooms out, the size of this rect will be increased. -->
        <rect id="BackgroundRect" x="0" y="0" width="5000" height="2500" fill="url(#Lawn1)" />

        <g id="Tiles"/>

        <path d="M 500 1000 Q 500 700, 800 600 T 1100 700 T 1400 1000 T 1700 1200 Q 1700 1500, 1100 1500 Q 500 1500, 500 1000" stroke="none" fill="url(#Pond)"/>

      </svg>
    </div>
  </body>
</html>
